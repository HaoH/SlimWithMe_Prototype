<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>轻卡伴侣 - 成就</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
  <div id="app" class="h-screen flex flex-col max-w-md mx-auto overflow-hidden relative bg-white">
    <!-- 顶部安全区域 - 适配刘海屏 -->
    <div class="safe-area-top bg-white"></div>
    
    <!-- 页面内容区域 -->
    <main class="flex-1 overflow-y-auto pb-16" id="main-content">
      <!-- 标题栏 -->
      <div class="bg-gradient-to-r from-indigo-600 to-blue-500 pt-6 pb-10 px-4 text-white">
        <h1 class="text-xl font-bold mb-1">我的成就</h1>
        <p class="text-sm opacity-80">坚持是成功的关键，记录你的每一步进步</p>
      </div>
      
      <!-- 成就卡片 - 核心数据 -->
      <div class="px-4 -mt-6 mb-5">
        <div class="bg-white rounded-lg shadow-sm p-4 border border-gray-100">
          <h2 class="text-base font-semibold mb-3 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
            </svg>
            核心成就
          </h2>
          
          <div class="grid grid-cols-3 gap-3 mb-3">
            <div class="bg-yellow-50 rounded-lg p-3 text-center relative overflow-hidden">
              <p class="text-3xl font-bold text-yellow-600">5.2</p>
              <p class="text-xs text-gray-500">已减重kg</p>
              <div class="absolute -bottom-3 -right-3 w-12 h-12 bg-yellow-200 rounded-full opacity-30"></div>
            </div>
            <div class="bg-green-50 rounded-lg p-3 text-center relative overflow-hidden">
              <p class="text-3xl font-bold text-green-600">28</p>
              <p class="text-xs text-gray-500">连续打卡天</p>
              <div class="absolute -bottom-3 -right-3 w-12 h-12 bg-green-200 rounded-full opacity-30"></div>
            </div>
            <div class="bg-blue-50 rounded-lg p-3 text-center relative overflow-hidden">
              <p class="text-3xl font-bold text-blue-600">12k</p>
              <p class="text-xs text-gray-500">累计步数千</p>
              <div class="absolute -bottom-3 -right-3 w-12 h-12 bg-blue-200 rounded-full opacity-30"></div>
            </div>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex justify-between items-center">
              <p class="text-xs text-gray-500">累计减少热量</p>
              <p class="text-sm font-semibold">15,240 千卡</p>
            </div>
            <div class="h-1.5 bg-gray-200 rounded-full overflow-hidden mt-1.5">
              <div class="bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 h-full rounded-full" style="width: 76%"></div>
            </div>
            <p class="text-xs text-gray-500 mt-1.5">目标: 减少20,000千卡 (76%)</p>
          </div>
        </div>
      </div>
      
      <!-- 体重变化趋势 -->
      <div class="px-4 mb-5">
        <div class="bg-white rounded-lg shadow-sm p-4 border border-gray-100">
          <div class="flex justify-between items-center mb-3">
            <h2 class="text-base font-semibold flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
              </svg>
              体重变化趋势
            </h2>
            <select class="text-xs bg-gray-100 rounded px-2 py-1 border-none">
              <option>近1个月</option>
              <option>近3个月</option>
              <option>全部记录</option>
            </select>
          </div>
          
          <div class="h-48">
            <canvas id="weightChart"></canvas>
          </div>
          
          <div class="grid grid-cols-3 mt-3 text-center text-sm">
            <div>
              <p class="text-xs text-gray-500">起始体重</p>
              <p class="font-semibold text-red-500">70.7 kg</p>
            </div>
            <div>
              <p class="text-xs text-gray-500">当前体重</p>
              <p class="font-semibold">65.5 kg</p>
            </div>
            <div>
              <p class="text-xs text-gray-500">目标体重</p>
              <p class="font-semibold text-green-500">60.0 kg</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 里程碑成就 -->
      <div class="px-4 mb-5">
        <h2 class="text-base font-semibold mb-3 flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
          </svg>
          里程碑成就
        </h2>
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4 mb-3">
          <div class="flex mb-3">
            <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 mr-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
              </svg>
            </div>
            <div>
              <h3 class="font-medium">饮食达人</h3>
              <p class="text-sm text-gray-500">连续30天记录饮食</p>
            </div>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex justify-between items-center mb-1">
              <p class="text-xs text-gray-500">当前进度</p>
              <p class="text-xs font-medium">28/30 天</p>
            </div>
            <div class="h-1.5 bg-gray-200 rounded-full overflow-hidden">
              <div class="bg-purple-500 h-full rounded-full" style="width: 93%"></div>
            </div>
          </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4 mb-3">
          <div class="flex mb-3">
            <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 mr-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
              </svg>
            </div>
            <div>
              <h3 class="font-medium">减重先锋</h3>
              <p class="text-sm text-gray-500">体重减少5公斤</p>
            </div>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex justify-between items-center mb-1">
              <p class="text-xs text-gray-500">当前进度</p>
              <p class="text-xs font-medium">5.2/5.0 公斤</p>
            </div>
            <div class="h-1.5 bg-gray-200 rounded-full overflow-hidden">
              <div class="bg-green-500 h-full rounded-full" style="width: 100%"></div>
            </div>
          </div>
          <div class="mt-2 text-center">
            <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">已完成!</span>
          </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
          <div class="flex mb-3">
            <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 mr-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
            <div>
              <h3 class="font-medium">运动健将</h3>
              <p class="text-sm text-gray-500">累计步行100公里</p>
            </div>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-3">
            <div class="flex justify-between items-center mb-1">
              <p class="text-xs text-gray-500">当前进度</p>
              <p class="text-xs font-medium">56.7/100 公里</p>
            </div>
            <div class="h-1.5 bg-gray-200 rounded-full overflow-hidden">
              <div class="bg-blue-500 h-full rounded-full" style="width: 56.7%"></div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 热量节省成就 -->
      <div class="px-4 mb-5">
        <h2 class="text-base font-semibold mb-3 flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z" />
          </svg>
          热量节省成就
        </h2>
        
        <div class="bg-white rounded-lg shadow-sm p-4 border border-gray-100">
          <div class="flex justify-between items-center mb-3">
            <h3 class="text-base font-medium">累计节省热量</h3>
            <span class="text-lg font-bold text-red-500">15,240<span class="text-sm font-normal"> 千卡</span></span>
          </div>
          
          <div class="space-y-3">
            <div class="flex justify-between text-sm">
              <div class="flex items-center">
                <div class="w-2 h-2 bg-blue-500 rounded-full mr-2"></div>
                <span>饮食控制</span>
              </div>
              <span class="font-medium">9,870 千卡</span>
            </div>
            <div class="flex justify-between text-sm">
              <div class="flex items-center">
                <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                <span>运动消耗</span>
              </div>
              <span class="font-medium">5,370 千卡</span>
            </div>
          </div>
          
          <div class="h-32 mt-4">
            <canvas id="caloriesChart"></canvas>
          </div>
          
          <div class="mt-3 bg-gray-50 rounded-lg p-3">
            <p class="text-sm">知识小贴士：消耗7,700千卡约等于减少1公斤体重</p>
          </div>
        </div>
      </div>
    </main>
    
    <!-- 导航容器 -->
    <div id="navigation-container"></div>
  </div>
  
  <!-- 引入导航组件 -->
  <script src="js/navigation.js"></script>
  
  <script>
    // 体重变化趋势图表
    const weightCtx = document.getElementById('weightChart').getContext('2d');
    const weightChart = new Chart(weightCtx, {
      type: 'line',
      data: {
        labels: ['5/1', '5/7', '5/14', '5/21', '5/28', '6/4', '6/11', '6/18', '6/25'],
        datasets: [{
          label: '体重(kg)',
          data: [70.7, 70.1, 69.4, 68.2, 67.5, 66.8, 66.1, 65.8, 65.5],
          borderColor: 'rgba(79, 70, 229, 0.8)',
          backgroundColor: 'rgba(79, 70, 229, 0.1)',
          borderWidth: 2,
          pointBackgroundColor: 'rgba(79, 70, 229, 1)',
          pointRadius: 3,
          tension: 0.2,
          fill: true
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            backgroundColor: 'rgba(255, 255, 255, 0.9)',
            titleColor: '#334155',
            bodyColor: '#334155',
            borderColor: '#e2e8f0',
            borderWidth: 1,
            padding: 10,
            displayColors: false,
            callbacks: {
              label: function(context) {
                return `体重: ${context.raw} kg`;
              }
            }
          }
        },
        scales: {
          x: {
            grid: {
              display: false
            }
          },
          y: {
            grid: {
              color: 'rgba(226, 232, 240, 0.5)'
            },
            min: 60,
            max: 72,
            ticks: {
              stepSize: 2
            }
          }
        }
      }
    });
    
    // 热量节省图表
    const caloriesCtx = document.getElementById('caloriesChart').getContext('2d');
    const caloriesChart = new Chart(caloriesCtx, {
      type: 'bar',
      data: {
        labels: ['第1周', '第2周', '第3周', '第4周'],
        datasets: [
          {
            label: '饮食控制',
            data: [2100, 2480, 2670, 2620],
            backgroundColor: 'rgba(59, 130, 246, 0.7)',
            borderWidth: 0,
            borderRadius: 4,
          },
          {
            label: '运动消耗',
            data: [1200, 1320, 1450, 1400],
            backgroundColor: 'rgba(16, 185, 129, 0.7)',
            borderWidth: 0,
            borderRadius: 4,
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
            labels: {
              boxWidth: 12,
              padding: 15,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            backgroundColor: 'rgba(255, 255, 255, 0.9)',
            titleColor: '#334155',
            bodyColor: '#334155',
            borderColor: '#e2e8f0',
            borderWidth: 1,
            padding: 10
          }
        },
        scales: {
          x: {
            grid: {
              display: false
            }
          },
          y: {
            beginAtZero: true,
            grid: {
              color: 'rgba(226, 232, 240, 0.5)'
            },
          }
        }
      }
    });
  </script>
</body>
</html> 